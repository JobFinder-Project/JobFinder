<body data-candidato-id="{{candidatoId}}">
    <div class="page-container">
        <nav class="navbar">
            <h1>JobFinder</h1>
            <div class="search-container">
                <form action="/candidato/vagas/buscar" method="GET">
                    <input type="text" name="q" class="search-input" placeholder="Buscar Vagas">
                    <button type="submit" class="search-button">Buscar</button>
                </form>
            </div>
            <ul class="navbar-menu">
                <li>
                    <button id="openCandidaturasModalBtn" class="navbar-button">
                        Minhas Candidaturas
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-card-checklist" viewBox="0 0 16 16">
                            <path d="M14.5 3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2z"/>
                            <path d="M7 5.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5m-1.496-.854a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0l-.5-.5a.5.5 0 1 1 .708-.708l.146.147 1.146-1.147a.5.5 0 0 1 .708 0M7 9.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5m-1.496-.854a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0l-.5-.5a.5.5 0 0 1 .708-.708l.146.147 1.146-1.147a.5.5 0 0 1 .708 0"/>
                        </svg>
                    </button>
                </li>
                <li><a href="/candidato/perfil/{{candidatoId}}">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-circle" viewBox="0 0 16 16">
                        <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0"/>
                        <path fill-rule="evenodd" d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8m8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1"/>
                    </svg>
                </a></li>
                <li><a href="/logout">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-arrow-right" viewBox="0 0 16 16">
                        <path fill-rule="evenodd" d="M10 12.5a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v2a.5.5 0 0 0 1 0v-2A1.5 1.5 0 0 0 9.5 2h-8A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-2a.5.5 0 0 0-1 0z"/>
                        <path fill-rule="evenodd" d="M15.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708.708L14.293 7.5H5.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708z"/>
                    </svg>
                </a></li>
            </ul>
        </nav>

        <main class="main-content">
            <div class="categories">
                <button class="category-button">Full Stack</button>
                <button class="category-button">UX/UI Designer</button>
                <button class="category-button">Analista de Dados</button>
                <button class="category-button">Técnico em TI</button>
                <button class="category-button">Estoquista</button>
                <button class="category-button">Programador Front End</button>
                <button class="category-button">Programador Back End</button>
                <button class="category-button">Operador de caixa</button>
                <button class="category-button">Enfermagem</button>
            </div>

            <div class="jobs-feed">
                <ul class="card-grid">
                    {{#if vagas.length}}
                    {{#each vagas}}
                    <li class="job-card">
                        <img src="{{imagem}}" alt="{{nome}}" class="job-image" />
                        <h2>{{nome}}</h2>
                        <p class="job-company">{{empresa.nome}}</p>
                        <p>{{area}}</p>
                        <button class="register-button" onclick="window.location.href = '/candidato/vagas/{{_id}}';">Ver Vaga</button>
                    </li>
                    {{/each}}
                    {{else}}
                    <div class="no-data">
                        <p>Não existem vagas cadastradas.</p>
                    </div>
                    {{/if}}
                </ul>
            </div>
        </main>
    </div>

    <div id="candidaturasModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modal-title">Minhas Candidaturas</h2>
                <span class="close-button">&times;</span>
            </div>
            <div class="modal-body">
                <div id="lista-view">
                    <ul id="candidaturas-list">
                        <li id="candidatura-item-prototype" class="candidatura-item" style="display: none;">
                            <h3 class="vaga-nome"></h3>
                            <p><strong>Empresa:</strong> <span class="empresa-nome"></span></p>
                            <p><strong>Status:</strong> <span class="status"></span></p>
                            <p><strong>Data da candidatura:</strong> <span class="data-candidatura"></span></p>
                        </li>
                    </ul>
                </div>
                <div id="detalhe-view" style="display: none;">
                    <div id="candidatura-detalhe-prototype" class="text-center">
                        <h3 class="vaga-nome"></h3>
                        <p><strong>Empresa:</strong> <span class="empresa-nome"></span></p>
                        <p><strong>Status:</strong> <span class="status"></span></p>
                        <p><strong>Área:</strong> <span class="vaga-area"></span></p>
                        <p><strong>Requisitos:</strong> <span class="vaga-requisitos"></span></p>
                        <p><strong>Data da candidatura:</strong> <span class="data-candidatura"></span></p>
                        <hr>
                        <div class="detalhe-actions">
                            <button class="btn-voltar">Voltar para a Lista</button>
                            <button class="btn-cancelar">Cancelar Candidatura</button>
                        </div>
                    </div>
                </div>

                <div id="confirmacao-view" style="display: none;">
                    <div id="candidatura-confirmacao-prototype" class="text-center">
                        <h4>Tem certeza que deseja cancelar sua candidatura para a vaga?</h4>
                        <div class="confirmacao-info">
                            <strong class="vaga-nome"></strong>
                            <p><strong>Empresa:</strong> <span class="empresa-nome"></span></p>
                            <p><strong>Status:</strong> <span class="status"></span></p>
                        </div>
                        <div class="detalhe-actions">
                            <button class="btn-voltar-detalhes">Voltar</button>
                            <button class="btn-confirmar-cancelamento">Sim, Cancelar</button>
                        </div>
                    </div>
                </div>

                <div id="resultado-view" style="display: none;">
                    <div id="candidatura-resultado-prototype" class="text-center">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" class="check-ok">
                                <path fill="#63E6BE" d="M320 576C178.6 576 64 461.4 64 320C64 178.6 178.6 64 320 64C461.4 64 576 178.6 576 320C576 461.4 461.4 576 320 576zM438 209.7C427.3 201.9 412.3 204.3 404.5 215L285.1 379.2L233 327.1C223.6 317.7 208.4 317.7 199.1 327.1C189.8 336.5 189.7 351.7 199.1 361L271.1 433C276.1 438 282.9 440.5 289.9 440C296.9 439.5 303.3 435.9 307.4 430.2L443.3 243.2C451.1 232.5 448.7 217.5 438 209.7z"/>
                            </svg>
                        <h4 class="resultado-mensagem"></h4>
                        <div class="detalhe-actions">
                            <button class="btn-ok">OK</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer" style="display: none;">
                <button id="visualizar-btn" class="btn-visualizar">Visualizar</button>
            </div>

        </div>
    </div>

    <script src="/assets/js/candidato-Dashboard.js"></script>
</body>